(this.webpackJsonponeuphealth=this.webpackJsonponeuphealth||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a.n(n),c=a(41),i=a(42),o=a(43),s=a(49),l=a(48),u=a(0),h=a.n(u),p=a(137),f=a(44),m=a.n(f),k=a(45),d=a.n(k),g=function(){return h.a.createElement(p.a,{height:150,background:"tint2"})},x=function(){return h.a.createElement(p.a,{height:150,background:"tint2"})},E=a(135),b=a(136),j=function(e){return h.a.createElement(p.a,{height:150},h.a.createElement(p.a,{display:"flex",justifyContent:"center"},h.a.createElement(E.a,null,"Click a button to see more information about a patient")),h.a.createElement(p.a,{display:"flex",justifyContent:"center"},h.a.createElement(b.a,{appearance:"primary",height:56,name:"",onClick:function(t){return e.handleClick(t)}},"Jessica"),h.a.createElement(b.a,{marginLeft:24,appearance:"primary",height:56,name:"f8fedcd9e6e5",onClick:function(t){return e.handleClick(t)}},"Jason")))},y=a(30),v=a(47).urls.patient_url,C=function(e){return Object(y.a)("http://localhost:3001/getAuthToken").headers({Accept:"application/json"}).post({expiration:e}).json()},O=function(e,t){return Object(y.a)("".concat(v,"/").concat(e,"/$everything")).auth("Bearer ".concat(t)).get().json()},D=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handlePatientClick=function(e){var t=e.target.name;return console.log(n.state.expiration),Object(c.a)(r.a.mark((function e(){var a,c,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.access_token,!(n.state.expiration<Date.now())){e.next=9;break}return e.next=4,C(n.state.expiration);case 4:c=e.sent,i=c.token,o=c.expiration,a=i,n.setState({access_token:i,expiration:o});case 9:O(t,a).then((function(e){n.setState({hasData:!0,patientData:e,error:""})})).catch((function(e){n.setState({error:e})}));case 10:case"end":return e.stop()}}),e)})))()},n.state={hasData:!1,patientData:{},access_token:"",expiration:Math.infinity,error:""},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;C(this.state.expiration).then((function(t){var a=t.access_token,n=t.expiration;e.setState({access_token:a,expiration:n})})).catch((function(t){console.log(t),e.setState({error:"There was a problem fetching an access token please try refreshing the page"})}))}},{key:"render",value:function(){return h.a.createElement(p.a,null,h.a.createElement(g,null),h.a.createElement(p.a,{height:700},h.a.createElement(j,{handleClick:this.handlePatientClick}),this.state.hasData&&h.a.createElement(d.a,{data:this.state.patientData}),this.state.error&&h.a.createElement("p",null,"this.state.error")),h.a.createElement(x,null))}}]),a}(h.a.Component);m.a.render(h.a.createElement(D,null),document.getElementById("root"))},47:function(e){e.exports=JSON.parse('{"urls":{"patient_url":"https://api.1up.health/fhir/dstu2/Patient"}}')},52:function(e,t,a){e.exports=a(129)}},[[52,1,2]]]);
//# sourceMappingURL=main.b65d82b2.chunk.js.map