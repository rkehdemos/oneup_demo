{"version":3,"sources":["navigation-components.js","patient-buttons.js","services.js","index.js"],"names":["Header","Pane","height","background","Footer","PatientButtons","props","display","justifyContent","Text","Button","appearance","name","onClick","e","handleClick","marginLeft","patient_url","urls","getAuthToken","expiration","wretch","headers","Accept","post","json","getPatientData","id","token","auth","get","App","handlePatientClick","target","console","log","state","a","auth_token","access_token","Date","now","setState","then","patientData","hasData","error","catch","Math","infinity","this","data","React","Component","ReactDom","render","document","getElementById"],"mappings":"2OAGMA,EAAS,kBACd,kBAACC,EAAA,EAAD,CAAMC,OAAQ,IAAKC,WAAW,WAGzBC,EAAS,kBACd,kBAACH,EAAA,EAAD,CAAMC,OAAQ,IAAKC,WAAW,W,kBCOhBE,EAZQ,SAAAC,GAAK,OAC3B,kBAACL,EAAA,EAAD,CAAMC,OAAQ,KACb,kBAACD,EAAA,EAAD,CAAMM,QAAQ,OAAOC,eAAe,UACnC,kBAACC,EAAA,EAAD,gEAED,kBAACR,EAAA,EAAD,CAAMM,QAAQ,OAAOC,eAAe,UACnC,kBAACE,EAAA,EAAD,CAAQC,WAAW,UAAUT,OAAQ,GAAIU,KAAK,GAAGC,QAAS,SAAAC,GAAC,OAAIR,EAAMS,YAAYD,KAAjF,WACA,kBAACJ,EAAA,EAAD,CAAQM,WAAY,GAAIL,WAAW,UAAUT,OAAQ,GAAIU,KAAK,eAAeC,QAAS,SAAAC,GAAC,OAAIR,EAAMS,YAAYD,KAA7G,Y,QCPIG,E,MAAsBC,KAAtBD,YAEDE,EAAe,SAAAC,GAAU,OAAIC,YAAO,sCACvCC,QAAQ,CAACC,OAAQ,qBACjBC,KAAK,CAACJ,eACNK,QAEGC,EAAiB,SAACC,EAAIC,GAC3B,OAAOP,YAAO,GAAD,OAAIJ,EAAJ,YAAmBU,EAAnB,iBACXE,KADK,iBACUD,IACfE,MACAL,QCNGM,E,kDACL,WAAYzB,GAAQ,IAAD,8BAClB,cAAMA,IAsBP0B,mBAAqB,SAAAlB,GAAM,IACVF,EAASE,EAAlBmB,OAASrB,KAEhB,OADAsB,QAAQC,IAAI,EAAKC,MAAMhB,YAChB,sBAAC,kCAAAiB,EAAA,yDACHC,EAAa,EAAKF,MAAMG,eAExB,EAAKH,MAAMhB,WAAaoB,KAAKC,OAH1B,gCAI4BtB,EAAa,EAAKiB,MAAMhB,YAJpD,gBAICQ,EAJD,EAICA,MAAOR,EAJR,EAIQA,WACdkB,EAAaV,EACb,EAAKc,SAAS,CAACH,aAAcX,EAAOR,eAN9B,OAQPM,EAAed,EAAM0B,GACnBK,MAAK,SAAAC,GACL,EAAKF,SAAS,CAACG,SAAS,EAAMD,cAAaE,MAAO,QACjDC,OAAM,SAAAD,GACR,EAAKJ,SAAS,CAACI,aAZT,2CAAD,IAxBP,EAAKV,MAAQ,CACZS,SAAS,EACTD,YAAa,GACbL,aAAc,GACdnB,WAAY4B,KAAKC,SACjBH,MAAO,IAPU,E,iEAWG,IAAD,OACpB3B,EAAa+B,KAAKd,MAAMhB,YACtBuB,MAAK,SAAAQ,GAAS,IACPZ,EAA4BY,EAA5BZ,aAAcnB,EAAc+B,EAAd/B,WACrB,EAAKsB,SAAS,CAACH,eAAcnB,kBAE7B2B,OAAM,SAAAD,GACNZ,QAAQC,IAAIW,GACZ,EAAKJ,SAAS,CAACI,MAAO,qF,+BAyBxB,OACC,kBAAC7C,EAAA,EAAD,KACC,kBAAC,EAAD,MACA,kBAACA,EAAA,EAAD,CAAMC,OAAQ,KACV,kBAAC,EAAD,CAAgBa,YAAamC,KAAKlB,qBACjCkB,KAAKd,MAAMS,SACX,kBAAC,IAAD,CAAYM,KAAMD,KAAKd,MAAMQ,cAE7BM,KAAKd,MAAMU,OACX,gDAGL,kBAAC,EAAD,W,GAzDcM,IAAMC,WA+DxBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.b65d82b2.chunk.js","sourcesContent":["import {Pane} from 'evergreen-ui';\r\nimport React from 'react';\r\n\r\nconst Header = () => (\r\n\t<Pane height={150} background=\"tint2\"/>\r\n)\r\n\r\nconst Footer = () => (\r\n\t<Pane height={150} background=\"tint2\"/>\r\n);\r\n\r\nexport {Header, Footer};","import React from 'react';\r\nimport {Pane, Button, Text} from 'evergreen-ui';\r\n\r\nconst PatientButtons = props => (\r\n\t<Pane height={150}>\r\n\t\t<Pane display=\"flex\" justifyContent=\"center\">\r\n\t\t\t<Text>Click a button to see more information about a patient</Text>\r\n\t\t</Pane>\r\n\t\t<Pane display=\"flex\" justifyContent=\"center\">\r\n\t\t\t<Button appearance=\"primary\" height={56} name=\"\" onClick={e => props.handleClick(e)}>Jessica</Button>\r\n\t\t\t<Button marginLeft={24} appearance=\"primary\" height={56} name=\"f8fedcd9e6e5\" onClick={e => props.handleClick(e)}>Jason</Button>\r\n\t\t</Pane>\r\n\t</Pane>\r\n);\r\n\r\nexport default PatientButtons;\r\n","import wretch from 'wretch';\r\nimport config from './client-config.json';\r\n\r\nconst {patient_url} = config.urls;\r\n\r\nconst getAuthToken = expiration => wretch('http://localhost:3001/getAuthToken')\r\n\t\t.headers({Accept: 'application/json'})\r\n\t\t.post({expiration})\r\n\t\t.json();\r\n\r\nconst getPatientData = (id, token) => {\r\n\treturn wretch(`${patient_url}/${id}/$everything`)\r\n\t\t.auth(`Bearer ${token}`)\r\n\t\t.get()\r\n\t\t.json();\r\n\t}\r\n\r\nexport {getAuthToken, getPatientData};","import React from 'react';\r\nimport {Pane} from 'evergreen-ui';\r\nimport ReactDom from 'react-dom';\r\nimport JSONPretty from 'react-json-pretty';\r\nimport {Header, Footer} from './navigation-components';\r\nimport PatientButtons from './patient-buttons';\r\nimport {getAuthToken, getPatientData} from './services';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\thasData: false,\r\n\t\t\tpatientData: {},\r\n\t\t\taccess_token: '',\r\n\t\t\texpiration: Math.infinity,\r\n\t\t\terror: ''\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tgetAuthToken(this.state.expiration)\r\n\t\t\t.then(data => {\r\n\t\t\t\tconst {access_token, expiration} = data;\r\n\t\t\t\tthis.setState({access_token, expiration});\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setState({error: 'There was a problem fetching an access token please try refreshing the page'});\r\n\t\t\t});\r\n\t}\r\n\r\n\thandlePatientClick = e => {\r\n\t\tconst {target: {name}} = e;\r\n\t\tconsole.log(this.state.expiration);\r\n\t\treturn (async () => {\r\n\t\t\tlet auth_token = this.state.access_token;\r\n\r\n\t\t\tif (this.state.expiration < Date.now()) {\r\n\t\t\t\tconst {token, expiration} = await getAuthToken(this.state.expiration);\r\n\t\t\t\tauth_token = token;\r\n\t\t\t\tthis.setState({access_token: token, expiration});\r\n\t\t\t}\r\n\t\t\tgetPatientData(name, auth_token)\r\n\t\t\t\t.then(patientData => {\r\n\t\t\t\t\tthis.setState({hasData: true, patientData, error: ''});\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tthis.setState({error});\r\n\t\t\t});\r\n\t\t})()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Pane>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Pane height={700}>\r\n\t\t\t\t    <PatientButtons handleClick={this.handlePatientClick}/>\r\n\t\t\t\t    {this.state.hasData && \r\n\t\t\t\t    \t<JSONPretty data={this.state.patientData} />\r\n\t\t\t\t    }\r\n\t\t\t\t    {this.state.error && \r\n\t\t\t\t    \t<p>this.state.error</p>\r\n\t\t\t\t    }\r\n\t\t\t    </Pane>\r\n\t\t\t\t<Footer />\r\n\t\t\t</Pane>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nReactDom.render(<App />, document.getElementById('root'));"],"sourceRoot":""}